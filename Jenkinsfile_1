pipeline {
    agent any

    stages {
        stage('Custom Workspace') {
            steps {
                // Use the 'ws' step to set a custom workspace for this stage
                ws('/var/lib/jenkins/workspace/new/') {
                    echo "Building in a custom workspace"
                    git branch: 'master', url: 'https://github.com/rajugajjela/git1.git'
                }
            }
        }
        stage ('run the sample script') {
            steps {
            dir('/var/lib/jenkins/workspace/new/') {
                        echo "Currently in: ${pwd()}"
                        // Your commands in the specified directory
                        sh 'echo "Your build commands here"'
                        sh 'cd /var/lib/jenkins/workspace/custom_workspace/'
                        sh './new.sh'
                        sh 'pwd'
                    }
             }
        }
    }
}
